<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <title>Privaatsus-kratt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            max-width: 600px;
        }
        button {
            margin-top: 15px;
            padding: 10px;
        }
        .warning {
            color: red;
            font-weight: bold;
        }
        .safe {
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>

<h1>üõ°Ô∏è Privaatsus-kratt</h1>
<p>Vali, milliseid k√ºpsiseid veebileht k√ºsib:</p>

<label>
    <input type="checkbox" checked disabled>
    Vajalikud k√ºpsised
</label><br>

<label>
    <input type="checkbox" id="analytics">
    Anal√º√ºtika k√ºpsised
</label><br>

<label>
    <input type="checkbox" id="marketing">
    Turundus- ja j√§lgimisk√ºpsised
</label><br>

<button onclick="kontrolli()">Kontrolli privaatsust</button>
<button onclick="laadiAlla()">Laadi raport alla</button>

<p id="tulemus"></p>

<script>
let raportTekst = "";

function kontrolli() {
    const analytics = document.getElementById("analytics").checked;
    const marketing = document.getElementById("marketing").checked;
    const tulemus = document.getElementById("tulemus");

    if (marketing) {
        tulemus.innerHTML = "‚ö†Ô∏è <span class='warning'>HOIATUS:</span> Turundusk√ºpsised j√§lgivad sinu tegevust.";
        raportTekst =
            "PRIVAATSUSRAPORT\n" +
            "-----------------\n" +
            "Lubatud: vajalikud + turundusk√ºpsised\n" +
            "Riskitase: K√ïRGE\n" +
            "Soovitus: keela turundusk√ºpsised.";
    }
    else if (analytics) {
        tulemus.innerHTML = "‚ÑπÔ∏è <span class='warning'>M√ï√ïDUKAS RISK:</span> Anal√º√ºtika k√ºpsised koguvad andmeid.";
        raportTekst =
            "PRIVAATSUSRAPORT\n" +
            "-----------------\n" +
            "Lubatud: vajalikud + anal√º√ºtika k√ºpsised\n" +
            "Riskitase: KESKMINE\n" +
            "Soovitus: luba ainult vajadusel.";
    }
    else {
        tulemus.innerHTML = "‚úÖ <span class='safe'>TURVALINE:</span> Ainult vajalikud k√ºpsised.";
        raportTekst =
            "PRIVAATSUSRAPORT\n" +
            "-----------------\n" +
            "Lubatud: ainult vajalikud k√ºpsised\n" +
            "Riskitase: MADAL\n" +
            "Soovitus: hea valik.";
    }
}

function laadiAlla() {
    if (raportTekst === "") {
        alert("Palun kontrolli enne privaatsust!");
        return;
    }

    const fail = new Blob([raportTekst], { type: "text/plain" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(fail);
    link.download = "privaatsusraport.txt";
    link.click();
}
</script>

</body>
</html>